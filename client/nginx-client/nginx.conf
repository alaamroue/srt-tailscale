server {
    listen 80; # avoid port conflict with other services
    
    root /var/www/html;
    index index.html;

    # Homepage
    location = / {
        try_files $uri $uri/ /index.html;
    }
    
    location /videos/ {
        alias /mnt/recordings_client/;
        autoindex on;
        sendfile on;
    }
    location = /videos {
        return 301 /videos/;
    }

    location /stream/ {
        proxy_pass http://localhost:8080/?action=stream;
    }

    location = /stream {
        return 301 /stream/;
    }
}
